# 🧪 快速测试指南 - Region & Search 功能

## ⚡ 快速开始

### 访问地址
- **URL**: http://localhost:8888
- **密码**: `EdgeNebula2026`
- **页面**: 点击左侧菜单 **⚡ Power Analysis**

---

## ✅ 功能测试清单

### 测试 1: Region 筛选器 📍

**步骤**:
1. 查看筛选面板顶部
2. 找到 "📍 Region / Area" 下拉框
3. 点击下拉框，应该看到选项：
   - All Regions
   - Cambridge
   - London
   - Oxford
   - Brighton
   - Norwich

**预期结果**:
✅ 下拉框显示正常  
✅ 下拉箭头样式美观  
✅ 选项列表完整

---

### 测试 2: Search 搜索框 🔍

**步骤**:
1. 查看筛选面板顶部右侧
2. 找到 "🔍 Search" 输入框
3. 看到提示文字："Site name, town, postcode..."

**预期结果**:
✅ 搜索框显示正常  
✅ 提示文字清晰  
✅ 输入框样式统一

---

### 测试 3: Region 筛选功能

**步骤**:
1. 选择 Region: **Cambridge**
2. 等待地图自动更新（约 0.5 秒）
3. 观察地图上的标记数量
4. 查看右上角的匹配计数

**预期结果**:
✅ 地图自动更新  
✅ 只显示 Cambridge 区域的站点  
✅ 匹配计数减少  
✅ 无需点击 Apply 按钮

---

### 测试 4: Search 搜索功能

**步骤**:
1. 先选择 "All Regions"（清除区域筛选）
2. 在搜索框输入: **Station**
3. 等待 0.5 秒（防抖延迟）
4. 观察地图更新

**预期结果**:
✅ 输入后自动搜索  
✅ 只显示名称包含 "Station" 的站点  
✅ 匹配计数更新  
✅ 地图流畅更新

---

### 测试 5: 组合筛选

**步骤**:
1. Region: 选择 **Cambridge**
2. Search: 输入 **Primary**
3. Max Utilisation: 拖动到 **30%**
4. 点击 **🔍 Apply Filters to Map**

**预期结果**:
✅ 三重筛选同时生效  
✅ 只显示符合所有条件的站点  
✅ 匹配计数正确（可能很少）  
✅ 绿色标记显示低使用率站点

---

### 测试 6: 清除筛选

**步骤**:
1. Region: 选择 **All Regions**
2. Search: 清空搜索框
3. 点击 **🔄 Reset All**

**预期结果**:
✅ 所有筛选条件恢复默认  
✅ 地图显示更多站点  
✅ 参数滑块恢复默认值  
✅ 匹配计数增加

---

### 测试 7: 搜索不同字段

**步骤**:
依次测试搜索不同内容：

1. **搜索站点名称**: 输入 "Substation"
2. **搜索城镇**: 输入 "Cambridge"
3. **搜索邮编**: 输入 "CB"
4. **搜索部分关键词**: 输入 "prim"（测试 Primary）

**预期结果**:
✅ 每次搜索都返回相关结果  
✅ 部分匹配功能正常  
✅ 大小写不敏感  
✅ 搜索响应快速

---

### 测试 8: 防抖机制

**步骤**:
1. 在搜索框快速输入: **C-a-m-b-r-i-d-g-e**
2. 观察是否每个字母都触发搜索
3. 应该只在停止输入后才搜索

**预期结果**:
✅ 输入过程中不频繁更新  
✅ 停止输入 0.5 秒后才搜索  
✅ 避免重复渲染  
✅ 性能良好

---

### 测试 9: 边界情况

**步骤**:

1. **测试空结果**:
   - Region: Cambridge
   - Search: xyz123 (不存在的内容)
   - 预期: 匹配计数为 0

2. **测试特殊字符**:
   - Search: Station-A
   - 预期: 正常搜索

3. **测试长文本**:
   - Search: 输入很长的文本
   - 预期: 不报错，正常处理

**预期结果**:
✅ 空结果友好处理  
✅ 特殊字符正常搜索  
✅ 长文本不崩溃  
✅ 无 JavaScript 错误

---

### 测试 10: 与现有功能兼容性

**步骤**:
1. 使用 Region + Search 筛选
2. 调整 Max Utilisation 滑块
3. 调整 Min ONAN 滑块
4. 点击 Apply Filters
5. 点击地图标记查看详情

**预期结果**:
✅ 所有筛选条件正确组合  
✅ 滑块功能正常  
✅ Apply/Reset/Save 按钮正常  
✅ 地图交互正常  
✅ InfoWindow 正常显示

---

## 📊 性能测试

### 测试项目

| 测试项 | 预期时间 | 实际 | 状态 |
|--------|---------|------|------|
| Region 选择后更新 | < 0.5s | ___ | ⬜ |
| Search 输入后响应 | 0.5s (防抖) | ___ | ⬜ |
| 组合筛选应用 | < 1s | ___ | ⬜ |
| 清除所有筛选 | < 0.5s | ___ | ⬜ |
| 地图标记渲染 | < 1s | ___ | ⬜ |

---

## 🎨 UI/UX 测试

### 视觉检查

- [ ] Region 下拉框有自定义箭头
- [ ] Search 输入框提示文字清晰
- [ ] 两个控件对齐整齐
- [ ] 与下方滑块有分隔线
- [ ] 响应式布局正常
- [ ] 悬停效果流畅
- [ ] 聚焦高亮正确

---

## 🐛 错误检查

### 打开浏览器控制台 (F12)

检查是否有错误：
- [ ] Console 无红色错误
- [ ] Network 请求正常
- [ ] 无 404 错误
- [ ] 无 JavaScript 异常

---

## ✅ 测试通过标准

### 必须通过的测试

- ✅ Region 下拉框显示和功能正常
- ✅ Search 搜索框显示和功能正常
- ✅ 区域筛选自动应用
- ✅ 搜索自动应用（防抖）
- ✅ 组合筛选逻辑正确
- ✅ 匹配计数准确
- ✅ 与现有功能兼容
- ✅ 无 JavaScript 错误
- ✅ 性能表现良好
- ✅ UI 样式美观

---

## 🎯 快速验证命令

```bash
# 1. 确认服务运行
lsof -i:3000 -i:8888 | grep LISTEN

# 2. 检查文件更新
ls -lh /Users/xh/Orion/orion-site-selection-v2/frontend/app.js
ls -lh /Users/xh/Orion/orion-site-selection-v2/frontend/styles.css

# 3. 查看文档
cat /Users/xh/Orion/orion-site-selection-v2/REGION_SEARCH_UPDATE.md
```

---

## 📝 测试结果记录

### 测试环境
- 浏览器: ______________
- 日期: 2026-01-03
- 测试人: ______________

### 测试结果

| 功能 | 状态 | 备注 |
|------|------|------|
| Region 筛选 | ⬜ |  |
| Search 搜索 | ⬜ |  |
| 组合筛选 | ⬜ |  |
| 防抖机制 | ⬜ |  |
| 性能表现 | ⬜ |  |
| UI 样式 | ⬜ |  |
| 错误处理 | ⬜ |  |

### 发现的问题
1. ___________________
2. ___________________
3. ___________________

### 总体评价
⬜ 通过  ⬜ 需要修复  ⬜ 待定

---

## 💡 使用建议

### 最佳实践

1. **先用 Region 缩小范围，再用 Search 精确查找**
   ```
   Cambridge → 搜索 "Station" → 调整参数
   ```

2. **使用部分关键词提高匹配率**
   ```
   "CB" 比 "CB1 2AB" 匹配更多
   ```

3. **组合使用达到最佳效果**
   ```
   Region + Search + Utilisation = 精确结果
   ```

---

## 🔗 相关文档

- [REGION_SEARCH_UPDATE.md](REGION_SEARCH_UPDATE.md) - 功能详细说明
- [HOW_TO_USE_v2.2.md](HOW_TO_USE_v2.2.md) - 使用指南

---

**🎉 开始测试，体验全新的筛选功能！**

*测试完成后，请标记通过的项目并记录任何问题。*



